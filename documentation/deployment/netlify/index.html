<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Zola</title>

      

      
          <link rel="stylesheet" href="https://zengor.github.io/site.css">
      

      
      
    </head>

    <body class="hack dark main container">
        

<article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">Netlify</h1>
        <span class="muted">
    <svg style="margin-bottom:-3px" class="i-clock" viewBox="0 0 32 32"
         width="16" height="16" fill="none" stroke="currentcolor"
         stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
        <circle cx="16" cy="16" r="14"/>
        <path d="M16 8 L16 16 20 20"/>
    </svg>
    <span>3 minute read</span>
    <svg style="margin-bottom: -3px" class="i-edit" viewBox="0 0 32 32"
         width="16" height="16" fill="none" stroke="currentcolor"
         stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
        <path d="M30 7 L25 2 5 22 3 29 10 27 Z M21 6 L26 11 Z M5 22 L10 27 Z"/>
    </svg>

    
</span>
    </header>
    <div itemprop="articleBody">
      <p>Netlify provides best practices like SSL, CDN distribution, caching and continuous deployment
with no effort. This very site is hosted by Netlify and automatically deployed on commits.</p>
<p>If you don't have an account with Netlify, you can <a href="https://app.netlify.com">sign up</a> for one.</p>
<h2 id="automatic-deploys"><a class="zola-anchor" href="#automatic-deploys" aria-label="Anchor link for: automatic-deploys">ðŸ”—</a>
Automatic Deploys</h2>
<p>Once you are in the admin interface, you can add a site from a Git provider (GitHub, GitLab or Bitbucket). At the end
of this process, you can select the deploy settings for the project:</p>
<ul>
<li>build command: <code>ZOLA_VERSION=0.8.0 zola build</code> (replace the version number in the variable by the version you want to use)</li>
<li>publish directory: the path to where the <code>public</code> directory is</li>
</ul>
<p>With this setup, your site should be automatically deployed on every commit on master.  For <code>ZOLA_VERSION</code>, you may
use any of the tagged <code>release</code> versions in the GitHub repository â€” Netlify will automatically fetch the tagged version
and use it to build your site.</p>
<p>However, if you want to use everything that Netlify gives you, you should also publish temporary sites for pull requests.</p>
<p>This is done by adding the following <code>netlify.toml</code> file in your repository and removing the build command/publish directory in
the admin interface.</p>
<pre style="background-color:#383838;">
<span style="color:#e6e1dc;">[</span><span style="color:#e8bf6a;">build</span><span style="color:#e6e1dc;">]</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># assuming the Zola site is in a docs folder, if it isn&#39;t you don&#39;t need</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># to have a `base` variable but you do need the `publish` and `command`</span><span style="color:#e6e1dc;">
</span><span style="color:#e8bf6a;">base    </span><span style="color:#e6e1dc;">= </span><span style="color:#c1be91;">&quot;docs&quot;</span><span style="color:#e6e1dc;">
</span><span style="color:#e8bf6a;">publish </span><span style="color:#e6e1dc;">= </span><span style="color:#c1be91;">&quot;docs/public&quot;</span><span style="color:#e6e1dc;">
</span><span style="color:#e8bf6a;">command </span><span style="color:#e6e1dc;">= </span><span style="color:#c1be91;">&quot;zola build&quot;</span><span style="color:#e6e1dc;">
</span><span style="color:#e6e1dc;">
[</span><span style="color:#e8bf6a;">build.environment</span><span style="color:#e6e1dc;">]</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># Set the version name that you want to use and Netlify will automatically use it</span><span style="color:#e6e1dc;">
</span><span style="color:#e8bf6a;">ZOLA_VERSION </span><span style="color:#e6e1dc;">= </span><span style="color:#c1be91;">&quot;0.8.0&quot;</span><span style="color:#e6e1dc;">
</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># The magic for deploying previews of branches</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># We need to override the base url with whatever url Netlify assigns to our</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># preview site.  We do this using the Netlify environment variable</span><span style="color:#e6e1dc;">
</span><span style="color:#95815e;"># `$DEPLOY_PRIME_URL`.</span><span style="color:#e6e1dc;">
</span><span style="color:#e6e1dc;">
[</span><span style="color:#e8bf6a;">context.deploy-preview</span><span style="color:#e6e1dc;">]</span><span style="color:#e6e1dc;">
</span><span style="color:#e8bf6a;">command </span><span style="color:#e6e1dc;">= </span><span style="color:#c1be91;">&quot;zola build --base-url $DEPLOY_PRIME_URL&quot;</span><span style="color:#e6e1dc;">
</span></pre><h2 id="manual-deploys"><a class="zola-anchor" href="#manual-deploys" aria-label="Anchor link for: manual-deploys">ðŸ”—</a>
Manual Deploys</h2>
<p>If you would prefer to use a version of Zola that isn't a tagged release (for example, after having built Zola from
source and made modifications), then you will need to manually deploy your <code>public</code> folder to Netlify.  You can do this through
Netlify's web GUI or via the command line.</p>
<p>For a command-line manual deploy, follow these steps:</p>
<ol>
<li>Generate a <code>Personal Access Token</code> from the settings section of your Netlify account (<em>not</em> an OAuth Application)</li>
<li>Build your site with <code>zola build</code></li>
<li>Create a zip folder containing the <code>public</code> directory</li>
<li>Run the <code>curl</code> command below, filling in your values for PERSONAL_ACCESS_TOKEN_FROM_STEP_1, FILE_NAME.zip and SITE_NAME</li>
<li>(Optional) delete the zip folder</li>
</ol>
<pre style="background-color:#383838;">
<span style="color:#e6e1dc;">curl</span><span style="font-style:italic;color:#fd971f;"> -H </span><span style="color:#c1be91;">&quot;Content-Type: application/zip&quot;</span><span style="color:#e6e1dc;"> \</span><span style="color:#e6e1dc;">
     -H </span><span style="color:#c1be91;">&quot;Authorization: Bearer PERSONAL_ACCESS_TOKEN_FROM_STEP_1&quot;</span><span style="color:#e6e1dc;"> \</span><span style="color:#e6e1dc;">
     --data-binary </span><span style="color:#c1be91;">&quot;@FILE_NAME.zip&quot;</span><span style="color:#e6e1dc;"> \</span><span style="color:#e6e1dc;">
     https://api.netlify.com/api/v1/sites/SITE_NAME.netlify.com/deploys</span><span style="color:#e6e1dc;">
</span></pre>
    </div>

    
        <footer>
            <hr>
            <p>
                
                    Published by Zengor
                
                
                
            </p>
        </footer>
    
</article>


    </body>

</html>
